:root{
  --accent: #ff66ff;
  --bg-transition: 0.8s;
}

/* Base */
html,body{height:100%;margin:0;font-family:"Comic Neue","Comic Sans MS",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:#06060a;color:#fff;-webkit-font-smoothing:antialiased;}
body {display:flex;flex-direction:column;align-items:center;overflow-x:hidden;user-select:none;}

header{width:100%;padding:18px 12px;text-align:center;}
#title{margin:0;font-size:2.4rem;font-weight:700;letter-spacing:.02em;text-transform:lowercase;text-shadow:0 6px 18px rgba(0,0,0,.7);transition:transform .3s ease,text-shadow .3s ease}

/* Controls */
.controls{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin:8px 0}
.control-btn{background:linear-gradient(145deg,#2b2b2b,#111);border:none;color:#fff;padding:12px 16px;border-radius:10px;font-size:1rem;cursor:pointer;box-shadow:0 8px 20px rgba(0,0,0,0.6);transition:transform .12s}
.control-btn:active{transform:translateY(1px)}
.control-btn:focus{outline:2px solid rgba(255,255,255,0.08)}

/* Stage & container */
#stage{width:100%;max-width:1100px;padding:12px 16px;box-sizing:border-box}
#container{min-height:180px;display:flex;flex-wrap:wrap;gap:12px;justify-content:center;align-items:flex-start;transition:gap .2s}
.darkWord{font-family:"Comic Neue","Comic Sans MS",cursive;font-size:28px;padding:4px 8px;border-radius:6px;display:inline-block;transition:transform .35s,color .35s,text-shadow .35s;user-select:none}

/* Keypad - anchored bottom-left near secret corner */
.keypad{position:fixed;left:12px;bottom:64px;background:rgba(0,0,0,0.7);padding:10px;border-radius:10px;box-shadow:0 12px 30px rgba(0,0,0,0.6);z-index:80}
.keypad.hidden{display:none}
.keypad .display{font-weight:700;font-size:18px;color:#111;background:#fff;padding:8px;border-radius:6px;text-align:center;margin-bottom:8px;letter-spacing:6px}
.key-grid{display:grid;grid-template-columns:repeat(3,72px);grid-gap:8px}
.key{background:#2f2f2f;color:#fff;border:none;padding:14px 10px;border-radius:8px;font-size:18px;cursor:pointer}
.key.wide{grid-column:span 2}

/* secret corner - invisible but clickable for long press */
.secret-corner{position:fixed;left:12px;bottom:12px;width:44px;height:44px;border-radius:8px;opacity:0;z-index:90;border:none;background:transparent;cursor:pointer}

/* admin messages */
.admin-message{position:fixed;left:50%;transform:translateX(-50%);bottom:36px;background:rgba(255,255,255,0.95);color:#111;padding:8px 12px;border-radius:8px;font-weight:700;z-index:90}
.admin-message.hidden{display:none}

/* menu panel */
.menu{position:fixed;right:12px;top:12px;max-width:360px;background:rgba(0,0,0,0.75);padding:12px;border-radius:10px;color:#fff;z-index:95;box-shadow:0 16px 40px rgba(0,0,0,0.6)}
.menu.hidden{display:none}
.menu h3{margin:4px 0 8px 0}

/* menu controls */
.menu .section{margin:8px 0}
.menu button, .menu input, .menu select{display:block;width:100%;margin:6px 0;padding:8px;border-radius:8px;border:none;background:#222;color:#fff;cursor:pointer}
.menu .small{display:inline-block;width:auto;padding:6px 8px;font-size:.9rem}

/* Animations / visual classes */
.rainbow{animation:rainbow 3s linear infinite}
@keyframes rainbow{0%{color:#ff4b4b}20%{color:#ffb84b}40%{color:#ffd54b}60%{color:#9bff4b}80%{color:#4bd6ff}100%{color:#b84bff}}
.glow{text-shadow:0 0 12px rgba(255,102,255,0.9),0 0 30px rgba(102,255,255,0.08)}
.spin{animation:spin 6s linear infinite}
@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
.floaty{animation:floaty 6s ease-in-out infinite}
@keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}
.chaos{transform-origin:center;filter:contrast(1.05)}
.chaos[data-r] { transform: rotate(var(--r)) skew(var(--skx),var(--sky)) scale(var(--s)); transition: transform .25s ease }

/* rain & confetti */
.rainDrop{position:fixed;top:-40px;font-size:1.2rem;animation:fall 4s linear forwards}
@keyframes fall{to{transform:translateY(110vh)}}
.confetti{position:fixed;top:0;pointer-events:none;z-index:999;font-size:18px;animation:confettiFall 1.5s linear forwards}
@keyframes confettiFall{to{transform:translateY(100vh) rotate(720deg)}}

/* responsive */
@media (max-width:600px){
  .keypad .key{padding:18px;font-size:20px}
  .key-grid{grid-template-columns:repeat(3,62px)}
  .darkWord{font-size:20px}
  #title{font-size:1.9rem}
  .menu{max-width:92%}
}
