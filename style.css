/* =========== Base & fonts =========== */
:root{
  --bg-ease: 20s;
  --accent: #ff66ff;
  --glass: rgba(255,255,255,0.06);
}
html,body{height:100%;margin:0;}
body{
  font-family: "Comic Neue", "Comic Sans MS", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  background: linear-gradient(135deg,#0b1020 0%, #12121b 50%, #1b1b2b 100%);
  color:#fff;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow-x:hidden;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* header */
header{width:100%;padding:18px 12px;text-align:center;}
#mainTitle{
  margin:0;
  font-size:2.4rem;
  letter-spacing:0.04em;
  font-weight:700;
  text-transform:lowercase;
  font-family:"Comic Neue", "Comic Sans MS", cursive;
  color:#fff;
  text-shadow: 0 6px 18px rgba(0,0,0,0.7);
  transition: transform .5s ease, text-shadow .3s ease;
}

/* controls */
.controls{margin:8px 0;display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap;}
.control-btn{
  background:linear-gradient(145deg,#333 #111);
  border:none;color:#fff;padding:12px 18px;border-radius:10px;font-size:1rem;cursor:pointer;
  box-shadow:0 6px 18px rgba(0,0,0,0.6);
  transition: transform .12s ease, box-shadow .12s ease;
}
.control-btn:active{transform:translateY(1px)}

/* stage / container */
#stage{width:100%;max-width:1100px;padding:12px 16px;box-sizing:border-box}
#container{
  min-height:180px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:12px;
  align-items:flex-start;
}

/* dark word base */
.darkWord{
  font-family:"Comic Neue", "Comic Sans MS", cursive;
  font-size:28px;
  padding:6px 8px;
  display:inline-block;
  background:transparent;
  color:#fff;
  border-radius:6px;
  transform-origin:center center;
  transition: transform .35s ease, color .35s ease, text-shadow .35s ease, filter .35s ease;
  user-select:none;
  -webkit-touch-callout:none;
}

/* effects (default styles -- toggled by JS) */
.dark-rain { position: absolute; top: -40px; }
.pulse { animation: pulse 1.2s infinite alternate; }
@keyframes pulse { from {transform:scale(1)} to {transform:scale(1.08)} }

.rainbow { animation: rainbowColor 3s linear infinite; }
@keyframes rainbowColor { 0%{color:#fff}25%{color:#ff66ff}50%{color:#66ffff}75%{color:#ffcc66}100%{color:#fff} }

.spin { animation: spin360 6s linear infinite; }
@keyframes spin360 { from {transform:rotate(0deg)} to {transform:rotate(360deg)} }

.floaty { animation: floaty 6s ease-in-out infinite; }
@keyframes floaty { 0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)} }

.glow { text-shadow:0 0 10px rgba(255,102,255,0.9), 0 0 24px rgba(102,255,255,0.08); filter: drop-shadow(0 6px 12px rgba(0,0,0,0.45)); }

.chaos { transform: rotate(var(--r,0deg)) skew(var(--skx,0deg), var(--sky,0deg)) scale(var(--s,1)); }

/* shake */
@keyframes shakeX { 0%{transform:translateX(0)}25%{transform:translateX(-6px)}50%{transform:translateX(6px)}75%{transform:translateX(-4px)}100%{transform:translateX(0)} }

/* keypad */
.keypad{max-width:320px;margin:14px auto;padding:10px;background:rgba(255,255,255,0.04);border-radius:8px;backdrop-filter: blur(6px);}
.keypad .row{display:flex;gap:8px;margin:6px 0;justify-content:center;}
.key{flex:1;padding:12px 8px;border-radius:8px;border:none;background:#eee;color:#111;font-weight:700;font-size:18px;cursor:pointer}
.key.wide{flex:1.6}
#passwordDisplay{text-align:center;font-weight:700;margin-bottom:6px;letter-spacing:8px;font-size:20px;color:#222;background:#fff;padding:8px;border-radius:6px}

/* secret corner (invisible) */
.secret-corner{position:fixed;bottom:12px;right:12px;width:36px;height:36px;border-radius:6px;background:transparent;border:none;opacity:0;z-index:50}

/* secret top button */
.secret-top{position:fixed;left:12px;top:12px;padding:8px 10px;border-radius:8px;border:none;background:linear-gradient(145deg,#ff66ff,#ff00ff);color:#111;font-weight:700;z-index:60;box-shadow:0 8px 20px rgba(0,0,0,0.45);cursor:pointer}

/* menu */
.menu{position:fixed;right:12px;top:12px;width:320px;max-width:calc(100% - 32px);background:rgba(0,0,0,0.6);padding:12px;border-radius:10px;color:#fff;z-index:70;box-shadow:0 16px 40px rgba(0,0,0,0.6);font-size:14px}
.menu b{display:block;margin-bottom:8px}

/* particles canvas */
.particles{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:-1}

/* hidden helper */
.hidden{display:none !important}

/* responsive touch improvements */
@media (max-width:600px){
  .control-btn{padding:10px 14px;font-size:16px}
  .darkWord{font-size:20px;padding:4px 6px}
  .menu{width:92%}
  .key{padding:16px;font-size:20px}
  #passwordDisplay{font-size:18px}
}
